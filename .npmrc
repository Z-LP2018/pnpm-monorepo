# pnpm 配置文件
# 更多配置选项请参考: https://pnpm.io/npmrc


# 在 monorepo 中，某些依赖需要被提升到根目录的 node_modules
# 以便子包可以访问（例如 TypeScript、Vite 插件等）
shamefully-hoist=true
# public-hoist-pattern[]=*eslint*
# public-hoist-pattern[]=*prettier*
# public-hoist-pattern[]=*typescript*
# public-hoist-pattern[]=@types*

# 自动安装 peer 依赖
auto-install-peers=true
# 不严格检查 peer 依赖版本（避免安装失败）
strict-peer-dependencies=false

# 严格检查 Node 和 pnpm 版本（与 package.json 中的 engines 字段配合）
engine-strict=true

# 递归安装子包依赖
recursive-install=true
# 如果存在 lockfile，则不允许安装依赖不匹配
frozen-lockfile=false
# 在 CI 环境中使用冻结的 lockfile
# frozen-lockfile=true  # 在 CI 中取消注释

# 网络并发请求数
network-concurrency=16
# 子进程并发数
child-concurrency=5

registry=https://registry.npmjs.org/

